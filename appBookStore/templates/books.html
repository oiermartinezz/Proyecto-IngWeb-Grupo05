{% extends "base.html" %}
{% load i18n %}

{% block content %}
<h2>{% trans "Listado de libros" %}</h2>

<!-- Formulario de búsqueda y filtrado -->
<div class="search-form">
    <form method="get" class="busqueda-libros">
        {{ form.as_p }}
        <button type="submit" class="btn-buscar">{% trans "Buscar" %}</button>
        <a href="{% url 'book-list' %}" class="btn-limpiar">{% trans "Limpiar filtros" %}</a>
    </form>
</div>

{% if libros %}
    <ul class="lista-items">
    {% for l in libros %}
        <li class="lista-items-book">
            <div class="book-cover-wrapper">
                {% if l.cover_image %}
                    <img src="{{ l.cover_image.url }}" alt="{{ l.title }}" class="img-libro">
                {% else %}
                    <div class="img-libro placeholder">{% trans "Sin portada" %}</div>
                {% endif %}
            </div>
            <div class="lista-items-contenido">
                <a href="{% url 'book-detail' l.id %}">{{ l.title }}</a>
                <div class="subtexto">– {{ l.publisher.name }}</div>
            </div>
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>{% trans "No hay libros que coincidan con tu búsqueda." %}</p>
{% endif %}
{% endblock %}
